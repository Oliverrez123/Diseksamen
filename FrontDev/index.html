<!DOCTYPE html>
<html lang="en">
<head>
    <link rel="stylesheet" href="./board.css">
    <title>Kanban Board</title>
    <script>

//Bruger drag and drop API til at gøre så jeg kan samle boksene og droppe dem
    function drag(ev) {

        ev.dataTransfer.setData("text", ev.target.id);
    }
     function allowDrop(ev) {

        ev.preventDefault();
    }
  function drop(ev) {

        ev.preventDefault();
        var data = ev.dataTransfer.getData("text");
        ev.currentTarget.appendChild(document.getElementById(data));}

    function opgStart(){
        var a = document.getElementById("igangvaerende");
        var b = document.getElementById("Færdig");
        var c = document.getElementById("lavnyopgaveblok");
        if (a.style.display === "none") {
            a.style.display = "block";
            b.style.display = "block";
            c.style.display = "none";
        } else {

            a.style.display = "none";
            b.style.display = "none";
            c.style.display = "flex";
        }}
    function gemOpg(){
     var skalGoeres = document.getElementById("skalGoeres");
        var opgaveNavn = document.getElementById("opgave-navn").value;
        skalGoeres.innerHTML += `
        <div class="task" id="${opgaveNavn.toLowerCase().split(" ").join("")}" draggable="true" ondragstart="drag(event)">
            <span>${opgaveNavn}</span> </div>` } 

    function changeOpg(){
        var saveButton = document.getElementById("gemknap");
        var editButton = document.getElementById("redigerknap");
        if (saveButton.style.display === "none") {
            saveButton.style.display = "block";
            editButton.style.display = "none";}
             else{

            saveButton.style.display = "none";
            editButton.style.display = "block";}
    }
   
    </script>
</head>
<body>
    <div class="container">
        <div class="kanbanheading">
            <p class="kanbantekst">Kanban Board</p>
        </div>
        <div class="kanban-board">
            <div class="kanban-block" id="skalGoeres" ondrop="drop(event)" ondragover="allowDrop(event)">
                <p>Skal gøres</p>
                <div class="opgknap-block">
                    <button id="opgknap" onclick="opgStart()">Ny opgave</span>
                </div>
                <div class="task" id="task1" draggable="true" ondragstart="drag(event)">
                    <span>Opgave 1</span>
                </div>
            </div>
            <div class="kanban-block" id="igangvaerende" ondrop="drop(event)" ondragover="allowDrop(event)">
                <p>Igangværende</p>
            </div>
            <div class="kanban-block" id="Færdig" ondrop="drop(event)" ondragover="allowDrop(event)">
                <p>Færdig</p>
            </div>
            <div class="lavnyopgaveblok" id="lavnyopgaveblok">
                <p>New Task</p>
                <span class="inputraekke">
                    <label class="raekkeprint" for="opgave-navn">Task</label>
                    <input class="raekkeinput" type="text" name="opgave-navn" id="opgave-navn">
                </span>
                <span class="inputraekke">
                    <label class="raekkeprint" for="opgave-navn">Description</label>
                    <textarea class="raekkeinput" name="task-description" id="task-description" cols="52" rows="15"></textarea>
                </span>
                <span class="inputraekke">  <label class="raekkeprint" for="opgave-navn">Status</label>
                    <select class="raekkeinput" name="task-status" id="task-status">
                        <option value="skalGoeres">Skal gøres</option>
                        <option value="igangvaerende">Igangværende</option>
                        <option value="Færdig">Færdig</option>
                    </select>
                </span>
                <span class="raekkeknapns">
                    <button id="redigerknap" onclick="changeOpg()"></span>
                    <button id="gemknap" onclick="gemOpg()">Gem</span>
                    <button id="tilbageknap" onclick="opgStart()">Tilbage</span>
                </span>
            </div>
        </div>
    </div>
</body>
</html>